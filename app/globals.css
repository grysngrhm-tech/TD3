@tailwind base;
@tailwind components;
@tailwind utilities;

/* iOS-inspired Dark Mode Theme System */
:root {
  --bg-primary: #09090b;
  --bg-secondary: #18181b;
  --bg-card: #27272a;
  --bg-hover: #3f3f46;
  --border: #3f3f46;
  --border-subtle: #27272a;
  --text-primary: #fafafa;
  --text-secondary: #a1a1aa;
  --text-muted: #71717a;
  --accent: #3b82f6;
  --accent-hover: #2563eb;
  --accent-glow: rgba(59, 130, 246, 0.15);
  --success: #22c55e;
  --warning: #f59e0b;
  --error: #ef4444;
}

/* Light mode overrides */
.light {
  --bg-primary: #ffffff;
  --bg-secondary: #f4f4f5;
  --bg-card: #ffffff;
  --bg-hover: #e4e4e7;
  --border: #e4e4e7;
  --border-subtle: #f4f4f5;
  --text-primary: #09090b;
  --text-secondary: #52525b;
  --text-muted: #a1a1aa;
}

/* Base styles */
body {
  background: var(--bg-primary);
  color: var(--text-primary);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'SF Pro Display', system-ui, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Custom scrollbar - dark mode optimized */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--bg-secondary);
}

::-webkit-scrollbar-thumb {
  background: var(--border);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--text-muted);
}

/* iOS-inspired component styles */
@layer components {
  /* Cards with subtle glow effect */
  .card-ios {
    @apply rounded-ios p-6 transition-all duration-200;
    background: var(--bg-card);
    border: 1px solid var(--border-subtle);
  }
  
  .card-ios:hover {
    border-color: var(--border);
    box-shadow: 0 0 20px var(--accent-glow);
  }

  /* Tile for projects */
  .tile {
    @apply rounded-ios p-5 cursor-pointer transition-all duration-200;
    background: var(--bg-card);
    border: 1px solid var(--border-subtle);
  }
  
  .tile:hover {
    transform: scale(1.02);
    border-color: var(--accent);
    box-shadow: 0 0 30px var(--accent-glow);
  }
  
  .tile:active {
    transform: scale(0.98);
  }

  /* Buttons */
  .btn-primary {
    @apply font-medium px-5 py-2.5 rounded-ios-sm transition-all duration-200;
    background: var(--accent);
    color: white;
  }
  
  .btn-primary:hover {
    background: var(--accent-hover);
    box-shadow: 0 0 20px var(--accent-glow);
  }
  
  .btn-primary:active {
    transform: scale(0.97);
  }
  
  .btn-secondary {
    @apply font-medium px-5 py-2.5 rounded-ios-sm transition-all duration-200;
    background: var(--bg-hover);
    color: var(--text-primary);
  }
  
  .btn-secondary:hover {
    background: var(--border);
  }

  .btn-ghost {
    @apply font-medium px-4 py-2 rounded-ios-sm transition-all duration-200;
    color: var(--text-secondary);
  }
  
  .btn-ghost:hover {
    background: var(--bg-hover);
    color: var(--text-primary);
  }

  /* Inputs */
  .input-ios {
    @apply w-full px-4 py-3 rounded-ios-sm transition-all duration-200 outline-none;
    background: var(--bg-secondary);
    border: 1px solid var(--border-subtle);
    color: var(--text-primary);
  }
  
  .input-ios::placeholder {
    color: var(--text-muted);
  }
  
  .input-ios:focus {
    border-color: var(--accent);
    box-shadow: 0 0 0 3px var(--accent-glow);
  }

  /* Filter pills */
  .filter-pill {
    @apply px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 cursor-pointer;
    background: var(--bg-secondary);
    color: var(--text-secondary);
  }
  
  .filter-pill:hover {
    background: var(--bg-hover);
    color: var(--text-primary);
  }
  
  .filter-pill.active {
    background: var(--accent);
    color: white;
  }

  /* Status badges */
  .badge {
    @apply px-2.5 py-1 rounded-full text-xs font-semibold;
  }
  
  .badge-draft {
    background: var(--bg-hover);
    color: var(--text-secondary);
  }
  
  .badge-submitted {
    background: rgba(245, 158, 11, 0.15);
    color: #fbbf24;
  }
  
  .badge-approved {
    background: rgba(34, 197, 94, 0.15);
    color: #4ade80;
  }
  
  .badge-rejected {
    background: rgba(239, 68, 68, 0.15);
    color: #f87171;
  }
  
  .badge-paid {
    background: var(--accent-glow);
    color: #60a5fa;
  }
  
  .badge-active {
    background: rgba(34, 197, 94, 0.15);
    color: #4ade80;
  }
  
  .badge-on_hold {
    background: rgba(245, 158, 11, 0.15);
    color: #fbbf24;
  }
  
  .badge-completed {
    background: var(--accent-glow);
    color: #60a5fa;
  }

  /* Progress bar */
  .progress-bar {
    @apply h-2 rounded-full overflow-hidden;
    background: var(--bg-hover);
  }
  
  .progress-bar-fill {
    @apply h-full rounded-full transition-all duration-500;
    background: var(--accent);
  }

  /* Accordion/Collapsible */
  .accordion-trigger {
    @apply flex items-center justify-between w-full py-3 px-4 rounded-ios-sm transition-all duration-200;
    color: var(--text-primary);
  }
  
  .accordion-trigger:hover {
    background: var(--bg-hover);
  }
  
  .accordion-content {
    @apply pl-4 overflow-hidden;
  }

  /* Sidebar */
  .sidebar {
    @apply h-full overflow-y-auto;
    background: var(--bg-secondary);
    border-right: 1px solid var(--border-subtle);
  }

  /* Table styles */
  .table-header {
    @apply font-semibold text-left px-4 py-3;
    background: var(--bg-secondary);
    color: var(--text-secondary);
    border-bottom: 1px solid var(--border);
  }
  
  .table-cell {
    @apply px-4 py-3;
    border-bottom: 1px solid var(--border-subtle);
    color: var(--text-primary);
  }
  
  .table-row:hover {
    background: var(--bg-hover);
  }

  /* Modal/Sheet overlay */
  .overlay {
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(4px);
  }

  /* Drop zone */
  .drop-zone {
    @apply rounded-ios p-12 text-center transition-all duration-200 cursor-pointer;
    border: 2px dashed var(--border);
    background: var(--bg-secondary);
  }
  
  .drop-zone:hover, .drop-zone.dragging {
    border-color: var(--accent);
    background: var(--accent-glow);
  }

  /* Legacy compatibility - will be removed */
  .card {
    @apply card-ios;
  }
  
  .input {
    @apply input-ios;
  }
  
  .status-draft { @apply badge badge-draft; }
  .status-submitted { @apply badge badge-submitted; }
  .status-approved { @apply badge badge-approved; }
  .status-rejected { @apply badge badge-rejected; }
  .status-paid { @apply badge badge-paid; }
}
